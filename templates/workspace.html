{% extends "base.html" %}

{% block own_styles %}
    {{ super() }}
    <link href="{{url_for('static', filename='css/user-navbar-styles.css')}}" rel="stylesheet">
{% endblock %}

{% block user_authentication %}
    <a class="navbar-brand" href="{{url_for('profile')}}">{{ current_user.first_name }} {{ current_user.last_name }}</a>
    <div class="dropdown">
        <button class="navbar-toggler" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item" href="#">Уведомления</a>
            <a class="dropdown-item" href="{{url_for('edit_user_profile')}}">Настройки</a>
            <a class="dropdown-item" href="{{url_for('logout')}}">Выход</a>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="user-navbar">
        <div class="btn-group" role="group" aria-label="User navbar" id="user-navbar-buttons">
            <a class="btn btn-outline-secondary" href="{{url_for('profile')}}">Профиль</a>
            <a class="btn btn-outline-secondary" href="{{url_for('messenger')}}">Сообщения</a>
            <a class="btn btn-outline-secondary" href="{{url_for('friends')}}">Друзья</a>
            <a class="btn btn-outline-secondary" href="{{url_for('communities')}}">Сообщества</a>
            <a class="btn btn-outline-secondary" href="#">Мой дневник</a>
            <a class="btn btn-outline-secondary" href="#">Моя школа</a>
            <a class="btn btn-outline-secondary" href="#">Мой класс</a>
            <a class="btn btn-outline-secondary" href="{{url_for('my_courses')}}">Мои курсы</a>
        </div>
    </div>
    <div class="page-content" id="page-content">
        {% block page_content %}{% endblock %}
    </div>
    <script>
        $(document).ready(
            function setPageContentMinWidth(){
                var w=$("#user-navbar-buttons").outerWidth();
                $("#page-content").css({"width":w});
                $("body").css({"min-width":w});
            });
    </script>
{% endblock %}